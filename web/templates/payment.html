{% extends 'home.html' %}

{% block content %}

<h2>Payments</h2>

<form id="form1" name="form1">
  <input type="text" id="id" value="{{ id }}"> <input type="button" value="Query" onClick="query()">
</form>


<div className="table-responsive">
<table class="table table-borderless">
    <thead>
      <tr>
        <th scope="col">Id</th>
        <th scope="col">Original Amount</th>
        <th scope="col">Open Amount</th>
        <th scope="col">Type</th>        
        <th scope="col">Status</th>        
        <th scope="col">Value Date</th>
        <th scope="col">Currency</th>
        <th scope="col">Reference</th>
        <th scope="col">Debit Credit</th>
        <th scope="col">Program Code</th>
        <th scope="col">Program Name</th>
        <th scope="col">Account Number</th>                
      </tr>
    </thead>
    <tbody>

      {% if rs|length > 0 %}
          {% for item in rs %}
          <tr>
              <td>{{ item[0] }}</td>
              <td>{{ '{:,.2f}'.format(item[1]) }}</td>
              <td>{{ '{:,.2f}'.format(item[2]) }}</td>
              <td>{{ item[3] }}</td>          
              <td>{{ item[4] }}</td>
              <td>{{ item[5] }}</td>          
              <td>{{ item[6] }}</td>
              <td>{{ item[7] }}</td>
              <td>{{ item[8] }}</td>                    
              <td>{{ item[9] }}</td>
              <td>{{ item[10] }}</td>
              <td>{{ item[11] }}</td>                              
          </tr>
          </p>
          {% endfor %}
      {% endif %}
    </tbody>
  </table>
</div>


<script>
  function query() {

      form = document.getElementById("form1")
      id = document.getElementById("id").value

      if (id.trim() == "") {
          alert("Payment Id is mandatory");
          return;
      }         

      form1.method = "post"
      form.action = "/payment_list/" + id
      form.submit()
  }
</Script>  


{% endblock %}

