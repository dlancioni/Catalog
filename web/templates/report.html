{% extends 'home.html' %}

{% block content %}

<h2>Report</h2>

<form id="form1" name="form1">
  <input type="text" id="id" value="{{ id }}"> <input type="button" value="Query" onClick="query()">
</form>
<br>
<br>

<h2>Payment</h2>
<!-- Payment -->
<div className="table-responsive">
<table class="table table-borderless">
    <thead>
      <tr>
        <th scope="col">Id</th>
        <th scope="col">Original Amount</th>
        <th scope="col">Open Amount</th>
        <th scope="col">Value Date</th>
        <th scope="col">Currency</th>
        <th scope="col">Type</th>
        <th scope="col">Reference</th>
        <th scope="col">Status</th>
        <th scope="col">Debit Credit</th>
        <th scope="col">Program Code</th>
        <th scope="col">Program Name</th>
        <th scope="col">Account Number</th>                
      </tr>
    </thead>
    <tbody>
    {% if rs_pmt|length > 0 %}
        {% for item in rs_pmt %}
        <tr>
            <td>{{ item[0] }}</td>
            <td>{{ '{:,.2f}'.format(item[1]) }}</td>
            <td>{{ '{:,.2f}'.format(item[2]) }}</td>
            <td>{{ item[3] }}</td>          
            <td>{{ item[4] }}</td>
            <td>{{ item[5] }}</td>          
            <td>{{ item[6] }}</td>
            <td>{{ item[7] }}</td>
            <td>{{ item[8] }}</td>                    
            <td>{{ item[9] }}</td>
            <td>{{ item[10] }}</td>
            <td>{{ item[11] }}</td>                              
        </tr>
        </p>
        {% endfor %}
    {% endif %}
  </tbody>
</table>
</div>

<hr>
<!-- Transactions -->
<h2>Transactions</h2>
<div style="overflow-x:auto;">
  <table class="table table-borderless">
      <thead>
        <tr>
          <th scope="col">Geo</th>
          <th scope="col">Fin Currency</th>        
          <th scope="col">Trx Code</th>
          <th scope="col">Trx Desc</th>
          <th scope="col">Post Date</th>
          <th scope="col">Sec Ref Key</th>  
          <th scope="col">Effec Dt</th>
          <th scope="col">Amount LC</th>
             
        </tr>
      </thead>
      <tbody>
  
        {% if rs_trx|length > 0 %}
            {% for item in rs_trx %}
            <tr>
              <td>{{ item[0] }}</td>
              <td>{{ item[1] }}</td>
              <td>{{ item[2] }}</td>  
              <td>{{ item[3] }}</td>          
              <td>{{ item[4] }}</td>
              <td>{{ item[5] }}</td>          
              <td>{{ item[6] }}</td>
              <td>{{ '{:,.2f}'.format(item[7]) }}</td>                          
            </tr>
            </p>
            {% endfor %}
        {% endif %}
      </tbody>
    </table>
  </div>


  <hr>
  <!-- Arcesium -->  
  <h2>Arcesium</h2>
  <div style="overflow-x:auto;">
  
    <table class="table table-borderless">
      <thead>
        <tr>
          <th scope="col">Trade Id</th>
          <th scope="col">Trade Date</th>
          <th scope="col">Side</th>
          <th scope="col">Quantity</th>
          <th scope="col">Currency</th>
          <th scope="col">St. Date</th>
          <th scope="col">Time Entered</th>
        </tr>
      </thead>
      <tbody>
  
        {% if rs_arc|length > 0 %}
            {% for item in rs_arc %}
            <tr>
              <td>{{ item[0] }}</td>
              <td>{{ item[1] }}</td>
              <td>{{ item[2] }}</td>  
              <td>{{ '{:,.2f}'.format(item[3]) }}</td>          
              <td>{{ item[4] }}</td>
              <td>{{ item[5] }}</td>          
              <td>{{ item[6] }}</td>
            </tr>
            </p>
            {% endfor %}
        {% endif %}
      </tbody>
    </table>
  </div>  

<script>
  function query() {

      form = document.getElementById("form1")
      id = document.getElementById("id").value

      if (id.trim() == "") {
          alert("Payment Id is mandatory");
          return;
      }         

      form1.method = "post"
      form.action = "/report_list/" + id
      form.submit()
  }
</Script>  


{% endblock %}

